# Нейро-сотрудник: Многофункциональный чат-бот на базе LangChain и OpenAI

Этот проект создает многофункционального чат-бота ("нейро-сотрудника"), способного отвечать на вопросы на основе информации из нескольких документов Google Docs.  Бот использует LangChain для обработки документов, OpenAI для генерации ответов, ChromaDB для хранения векторных эмбеддингов и Gradio для создания пользовательского интерфейса.

## Функциональность

Приложение предоставляет интерфейс для выбора "нейро-сотрудника" – специалиста в определенной области (менеджер HR, рекрутер, менеджер контроля качества и т.д.).  Каждый сотрудник обучен на основе предоставленного Google Docs документа. Пользователь может задать вопрос, и бот, используя  информацию из документа, сгенерирует ответ.

## Зависимости

Перед запуском необходимо установить следующие библиотеки:

```bash
!pip install openai gradio tiktoken langchain langchain-openai langchain-community chromadb
```

## Настройка

1. **API-ключ OpenAI:**  Необходимо ввести свой API-ключ OpenAI, используя команду:

   ```python
   import getpass
   import os
   os.environ["OPENAI_API_KEY"] = getpass.getpass("Введите OpenAI API Key:")
   ```

2. **Запуск приложения:** Запустите Python-скрипт.  Приложение запустится в браузере по указанному адресу.

## Использование

1. **Выбор нейро-сотрудника:** Выберите из выпадающего списка нужного "нейро-сотрудника".  Это определит документ, на основе которого будет формироваться ответ.
2. **Обучение модели (необязательно):**  Нажмите кнопку "Обучить модель".  Это загрузит и обработает выбранный документ, создав векторную базу данных.  Это нужно делать только один раз для каждого сотрудника.
3. **Запрос:** Введите свой вопрос в поле "Запрос к LLM".
4. **Получение ответа:** Нажмите кнопку "Запрос к модели".  Бот сгенерирует ответ на основе выбранного документа и вашего вопроса.
5. **Логи:** В поле "Логирование" отображается информация о процессе обработки данных и запроса (количество токенов и т.д.).

## Архитектура

* **LangChain:**  Используется для загрузки, обработки и поиска информации в документах.
* **OpenAI:**  Используется для генерации текстовых ответов.
* **ChromaDB:**  Используется как векторная база данных для быстрого поиска наиболее релевантных фрагментов документов.
* **Gradio:**  Используется для создания удобного и интерактивного пользовательского интерфейса.
* **Tiktoken:**  Используется для подсчета токенов без обращения к API OpenAI (экономия средств).

## Описание нейро-сотрудников

Приложение включает в себя несколько "нейро-сотрудников", каждый со своим собственным набором знаний и стилем общения, определённым в `models`:

* **Нейро-менеджер поддержки HR-отдела:**  Основан на документе с инструкциями для HR-специалистов. Отвечает на вопросы о работе HR-отдела.
* **Нейро-рекрутер:**  Обучен на документе с инструкцией по подбору персонала на должность руководителя отдела продаж.  Генерирует вопросы для собеседования.
* **Нейро-менеджер (Отчет по диалогу):**  Анализирует диалоги и создает отчеты по заданным критериям.
* **Дядя Вася или Петрович, электрик-гуру:**  Обучен на документе с инструкцией по электрике, отвечает с использованием юмора и неформальной лексики.
* **Нейро-менеджер контроля качества (Оценка качества по диалогу):** Анализирует диалоги менеджеров по продажам и составляет отчеты.


Для повышения реалистичности и юмористической составляющей "Дяди Васи" были использованы дополнительные тексты из "Науки и жизни" и художественной литературы о рабочем классе.  Его ответы включают профессиональный жаргон, неформальную лексику, цитаты и жизненные истории.


## Дальнейшее развитие

* **Расширение базы данных:** Добавление новых документов и нейро-сотрудников.
* **Улучшение обработки ошибок:**  Более надежная обработка ошибок при загрузке документов и запросах к OpenAI.
* **Персонализация ответов:**  Добавление возможности персонализировать ответы в зависимости от пользователя.
* **Многоязычная поддержка:**  Добавление поддержки нескольких языков.
